<div class="req-view-wrapper w80 m-auto pt-4 mb-4">
  <div class="page">
    <div class="text-center m-auto min-vertical-h-50" *ngIf="reqDetailsConfig.isLoading">
      <img src="../assets/loaders/swal-loader.gif" height="150" width="150" />
      <h5 class="text-primary">Fetching Requirement...</h5>
    </div>
    <div class="animated fadeInUp" *ngIf="!reqDetailsConfig.isLoading">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a [routerLink]="['/home']">Home</a></li>
        <li class="breadcrumb-item">
          <a [routerLink]="['/freelance/all-requirements']">All Requirements</a>
        </li>
        <li class="breadcrumb-item active text-truncate">{{ reqDetailsConfig.data?.category }}</li>
      </ol>
      <div class="row">
        <div class="col-md-8 col-12">
          <div class="card my-4 m-0">
            <ng-container>
              <div class="card-img pb-1 d-flex align-items-center justify-content-center">
                <h5 class="text-css m-auto">{{ reqDetailsConfig.data?.category }}</h5>
              </div>
            </ng-container>

            <div class="card-body">
              <div class="row no-gutters border-bottom pb-2">
                <div class="col-12 col-md-4">
                  <h6 class="mb-1"><i class="fas fa-briefcase pr-2 text-muted"></i>Experience</h6>
                  <div>
                    {{ reqDetailsConfig.data?.experienceFrom }} - {{ reqDetailsConfig.data?.experienceTo }} Years
                  </div>
                </div>
                <div class="col-12 col-md-4">
                  <h6 class="mb-1"><i class="fas fa-money-bill-wave pr-2 text-muted"></i>Budget</h6>
                  <div>
                    {{ reqDetailsConfig.data?.budgetFrom | currency }} -
                    {{ reqDetailsConfig.data?.budgetTo | currency }}
                  </div>
                </div>
                <div class="col-12 col-md-4">
                  <h6 class="mb-1"><i class="fas fa-calendar-week pr-2 text-muted"></i>Open Till</h6>
                  <div>{{ reqDetailsConfig.data?.openTill | date: 'mediumDate' }}</div>
                </div>
              </div>
              <div class="p-3">
                <h4 class="mt-3">About This Requirement</h4>
                <div class="mt-2" [innerHTML]="reqDetailsConfig.data.description | safeHtml"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4 col-12">
          <div class="card my-4 m-0">
            <div class="card-header">
              <h4 class="card-title">Post BID</h4>
            </div>
            <div class="card-body">
              <div class="row no-gutters animated fadeInUp">
                <div class="col-6">
                  <div class="form-group text-left mr-2">
                    <label class="form-label" for="cost">Cost</label>
                    <div class="input-group input-group-merge">
                      <input
                        id="cost"
                        type="number"
                        min="0"
                        step="1"
                        oninput="validity.valid||(value='');"
                        [(ngModel)]="bid.cost"
                        class="form-control form-control-prepended"
                      />
                    </div>
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group text-left">
                    <label class="form-label" for="tat">TAT</label>
                    <div class="input-group input-group-merge">
                      <input
                        id="tat"
                        type="number"
                        min="0"
                        step="1"
                        oninput="validity.valid||(value='');"
                        [(ngModel)]="bid.tat"
                        class="form-control form-control-prepended"
                      />
                    </div>
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group text-left">
                    <label class="form-label" for="Attachment"
                      >Attachment<span class="text-danger pl-1 asterisk">*</span></label
                    >
                    <div class="input-group input-group-merge">
                      <div
                        *ngIf="bid.attachment === ''"
                        class="p-3 d-flex align-items-center curPoint bg-primary-more-light"
                        (click)="triggerUpload()"
                      >
                        <span class="material-icons pr-3">
                          attach_file
                        </span>
                        Add Attachment
                      </div>
                      <div
                        *ngIf="bid.attachment !== ''"
                        class="p-3 d-flex align-items-center curPoint bg-primary-light"
                      >
                        <span class="material-icons pr-3">
                          attach_file
                        </span>
                        Attachment
                        <span class="material-icons pl-3" (click)="(bid.attachment === '')">
                          close
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-group text-left">
                    <label class="form-label" for="comment">Comment</label>
                    <textarea
                      name="comment"
                      [(ngModel)]="bid.comments"
                      class="form-control form-control-prepended"
                      cols="30"
                      rows="10"
                      style="min-height: 100px; max-height: 100px;"
                    ></textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<input id="resumeUpload" class="d-none" #uploadAttachment type="file" (change)="uploadFile($event)" />
